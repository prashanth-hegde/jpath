package parser

import (
	"fmt"
	"jpath/common"
	"reflect"
	"testing"
)

func TestGet(t *testing.T) {
	//testJson := `[{"results":[{"gender":"female","name":{"title":"Mrs","first":"Melodie","last":"Gagné"},"location":{"street":{"number":4594,"name":"St. Lawrence Ave"},"city":"Killarney","state":"Ontario","country":"Canada","postcode":"L5C 7L2","coordinates":{"latitude":"-63.9167","longitude":"110.8605"},"timezone":{"offset":"+5:45","description":"Kathmandu"}},"email":"melodie.gagne@example.com","login":{"uuid":"d56c7d7a-b4d4-4250-9d28-0738ac3a1b77","username":"orangebear509","password":"bigboy","salt":"r2rkwcwY","md5":"bea5a3bffe48b1e69c817688e929cf98","sha1":"9e67c5ddd7a1cdb28866f4ef40d0be64f389a555","sha256":"3a83320997a8bf8c860c6f2b813cc7c2dbaa68a958082109d0ef973b62eedc64"},"dob":{"date":"1956-12-07T12:09:05.427Z","age":65},"registered":{"date":"2011-10-17T13:35:21.088Z","age":10},"phone":"726-074-4524","cell":"779-777-0657","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/women/62.jpg","medium":"https://randomuser.me/api/portraits/med/women/62.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/62.jpg"},"nat":"CA"},{"gender":"male","name":{"title":"Mr","first":"Hardy","last":"Sauter"},"location":{"street":{"number":3759,"name":"Raiffeisenstraße"},"city":"Schwandorf","state":"Hamburg","country":"Germany","postcode":43773,"coordinates":{"latitude":"9.3017","longitude":"-78.3350"},"timezone":{"offset":"+5:00","description":"Ekaterinburg, Islamabad, Karachi, Tashkent"}},"email":"hardy.sauter@example.com","login":{"uuid":"7bbfbcb0-a9c7-491b-b347-6bb6cc560903","username":"bluebear598","password":"freeuser","salt":"aMcmc5p1","md5":"321930e49c1e0797e27f97c5cffbb744","sha1":"f00f7f2f40a1b63c799d849dc7b1ac7a09124931","sha256":"8eaf321a3b77fe78de3124ce0d54969d14dc3e327e74801d826495baf6423b00"},"dob":{"date":"1955-09-06T14:26:49.215Z","age":66},"registered":{"date":"2014-02-27T05:56:03.362Z","age":7},"phone":"0461-2742163","cell":"0173-7395805","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/16.jpg","medium":"https://randomuser.me/api/portraits/med/men/16.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/16.jpg"},"nat":"DE"},{"gender":"male","name":{"title":"Mr","first":"Porfírio","last":"Pereira"},"location":{"street":{"number":6062,"name":"Travessa dos Açorianos"},"city":"Nossa Senhora do Socorro","state":"Pernambuco","country":"Brazil","postcode":17855,"coordinates":{"latitude":"-81.9210","longitude":"150.2790"},"timezone":{"offset":"+6:00","description":"Almaty, Dhaka, Colombo"}},"email":"porfirio.pereira@example.com","login":{"uuid":"4d52083a-2692-43b7-83a5-5c5e9d0815cb","username":"orangelion732","password":"frosty","salt":"qnsQL5c0","md5":"a96f887a42ee546badb3f43681c998e9","sha1":"fc6528f28d113e7ba796f06809994ff15fe077d2","sha256":"7b886f2472a6e4d54b5b5037bf3fe83780465eeb2b305d614f295daf91724cb5"},"dob":{"date":"1980-09-06T08:26:56.458Z","age":41},"registered":{"date":"2004-09-02T17:44:40.628Z","age":17},"phone":"(93) 1456-9695","cell":"(31) 0998-5800","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/87.jpg","medium":"https://randomuser.me/api/portraits/med/men/87.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/87.jpg"},"nat":"BR"},{"gender":"male","name":{"title":"Mr","first":"Loïs","last":"Blanc"},"location":{"street":{"number":9030,"name":"Rue de L'Abbé-De-L'Épée"},"city":"Asnières-sur-Seine","state":"Finistère","country":"France","postcode":89952,"coordinates":{"latitude":"50.9744","longitude":"38.2468"},"timezone":{"offset":"+9:00","description":"Tokyo, Seoul, Osaka, Sapporo, Yakutsk"}},"email":"lois.blanc@example.com","login":{"uuid":"f991434b-9e0f-4588-ba2e-f6179af9e842","username":"brownkoala788","password":"tigger","salt":"fxGzgqe3","md5":"8ba64f770c8b99c9eba1528d76c5888a","sha1":"90334001cdd9f5f021e3832969885416328da39c","sha256":"10e916d5521a6db13318c5f7113a6a89160fcd08c687e2eec2219785c3bcb704"},"dob":{"date":"1969-01-13T18:35:55.654Z","age":52},"registered":{"date":"2017-02-07T16:01:02.108Z","age":4},"phone":"04-76-20-47-49","cell":"06-13-55-64-94","id":{"name":"INSEE","value":"1NNaN46527313 64"},"picture":{"large":"https://randomuser.me/api/portraits/men/90.jpg","medium":"https://randomuser.me/api/portraits/med/men/90.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/90.jpg"},"nat":"FR"},{"gender":"female","name":{"title":"Mrs","first":"Scarlett","last":"Ramos"},"location":{"street":{"number":6288,"name":"E Pecan St"},"city":"Queanbeyan","state":"Queensland","country":"Australia","postcode":8613,"coordinates":{"latitude":"-84.4282","longitude":"162.1111"},"timezone":{"offset":"-6:00","description":"Central Time (US & Canada), Mexico City"}},"email":"scarlett.ramos@example.com","login":{"uuid":"ed8d0175-81ee-4814-a168-6141ee47c7de","username":"brownsnake968","password":"mission","salt":"aMOaO9fR","md5":"2e9ba6b0c914923c170bd405761f31ad","sha1":"29068dea51109fec794defcfa81481ba004a8e17","sha256":"9018f4f9d3b37a6a4211174936d36213368ebba68cb1be7aae04decf8991e822"},"dob":{"date":"1987-05-02T15:04:52.481Z","age":34},"registered":{"date":"2003-07-23T08:27:48.875Z","age":18},"phone":"02-3890-8160","cell":"0491-054-120","id":{"name":"TFN","value":"045760989"},"picture":{"large":"https://randomuser.me/api/portraits/women/63.jpg","medium":"https://randomuser.me/api/portraits/med/women/63.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/63.jpg"},"nat":"AU"},{"gender":"male","name":{"title":"Mr","first":"Glen","last":"Howard"},"location":{"street":{"number":1180,"name":"George Street"},"city":"Swords","state":"Wexford","country":"Ireland","postcode":99620,"coordinates":{"latitude":"29.7085","longitude":"75.1163"},"timezone":{"offset":"+5:30","description":"Bombay, Calcutta, Madras, New Delhi"}},"email":"glen.howard@example.com","login":{"uuid":"a316c6e2-588b-46f7-bb84-b5259809db63","username":"greenbird880","password":"tttttt","salt":"gXFbTT9E","md5":"740e62a443776e531c32e8a27936cd32","sha1":"8cae36827b4626ee5d4bb33ec9a950b442c77be0","sha256":"299b67ef37fb0dfaee5069bf42cc4760cf4683b3f747ca5df974c2e22ef5940a"},"dob":{"date":"1990-02-13T12:02:30.019Z","age":31},"registered":{"date":"2009-06-27T06:37:56.602Z","age":12},"phone":"061-787-3251","cell":"081-991-2405","id":{"name":"PPS","value":"5290365T"},"picture":{"large":"https://randomuser.me/api/portraits/men/49.jpg","medium":"https://randomuser.me/api/portraits/med/men/49.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/49.jpg"},"nat":"IE"},{"gender":"female","name":{"title":"Mrs","first":"Johanne","last":"Leonhardt"},"location":{"street":{"number":3194,"name":"Königsberger Straße"},"city":"Bad Dürrheim","state":"Bremen","country":"Germany","postcode":77926,"coordinates":{"latitude":"23.1901","longitude":"-101.7833"},"timezone":{"offset":"-5:00","description":"Eastern Time (US & Canada), Bogota, Lima"}},"email":"johanne.leonhardt@example.com","login":{"uuid":"b6709a0a-f1b9-43df-81a3-5df0c291e209","username":"crazytiger533","password":"portland","salt":"02lLcotQ","md5":"7a7ecfc38af3758df76249fa3dd2644d","sha1":"9ead20210f0148e30a7698e85202a6f6e9b937ca","sha256":"4817a46f630a5c53803e8deb28e58e9c6b3db8961640ae533982072b16f61c87"},"dob":{"date":"1964-08-09T08:11:15.101Z","age":57},"registered":{"date":"2004-01-17T03:23:18.800Z","age":17},"phone":"0678-4241451","cell":"0179-6896607","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/women/46.jpg","medium":"https://randomuser.me/api/portraits/med/women/46.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/46.jpg"},"nat":"DE"},{"gender":"male","name":{"title":"Mr","first":"Byron","last":"Cooper"},"location":{"street":{"number":7641,"name":"Lakeshore Rd"},"city":"St. Petersburg","state":"Colorado","country":"United States","postcode":85898,"coordinates":{"latitude":"-13.9778","longitude":"-137.0939"},"timezone":{"offset":"+8:00","description":"Beijing, Perth, Singapore, Hong Kong"}},"email":"byron.cooper@example.com","login":{"uuid":"40069ca0-fefd-4976-ab13-dff1c80bbf7e","username":"bigbird675","password":"nelson","salt":"h0ExMxtO","md5":"24dd7367f95c4377b2fef8e65cbd0c1b","sha1":"8c416504804eddc891da083eb3461733738fdc02","sha256":"96ce2b753601e405c00301242398c24551260208ac4799d78aacc2f8b87a7595"},"dob":{"date":"1992-02-22T10:15:55.954Z","age":29},"registered":{"date":"2007-03-13T17:08:10.687Z","age":14},"phone":"(230)-039-4521","cell":"(532)-586-9671","id":{"name":"SSN","value":"120-86-5372"},"picture":{"large":"https://randomuser.me/api/portraits/men/74.jpg","medium":"https://randomuser.me/api/portraits/med/men/74.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/74.jpg"},"nat":"US"},{"gender":"female","name":{"title":"Miss","first":"Yesim","last":"Nijenkamp"},"location":{"street":{"number":5373,"name":"1e Zandwijkje"},"city":"Zoutkamp","state":"Limburg","country":"Netherlands","postcode":80936,"coordinates":{"latitude":"-19.9554","longitude":"-162.6304"},"timezone":{"offset":"+3:30","description":"Tehran"}},"email":"yesim.nijenkamp@example.com","login":{"uuid":"dd67bceb-5392-4ee2-8708-94e04a84b887","username":"bigmouse583","password":"chaos1","salt":"wuRC9yFI","md5":"19a98b6b89a6aa21b94cf758f9cff7dc","sha1":"f7824391d9c48dd96bc8c3b1e2d30520c4999506","sha256":"36e88cd516175132231b1cd867bfecbd1a1b25b1cef1b2e85f38b0ce0a9ba4e0"},"dob":{"date":"1980-11-07T08:04:26.249Z","age":41},"registered":{"date":"2016-11-13T19:57:41.510Z","age":5},"phone":"(025)-795-8551","cell":"(144)-699-7915","id":{"name":"BSN","value":"88093887"},"picture":{"large":"https://randomuser.me/api/portraits/women/53.jpg","medium":"https://randomuser.me/api/portraits/med/women/53.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/53.jpg"},"nat":"NL"},{"gender":"male","name":{"title":"Mr","first":"Koray","last":"Adal"},"location":{"street":{"number":8407,"name":"Talak Göktepe Cd"},"city":"Tokat","state":"Bolu","country":"Turkey","postcode":34303,"coordinates":{"latitude":"-45.7986","longitude":"-65.0078"},"timezone":{"offset":"-4:00","description":"Atlantic Time (Canada), Caracas, La Paz"}},"email":"koray.adal@example.com","login":{"uuid":"804cfd39-034a-4b4e-b517-acd6373682ea","username":"heavyladybug985","password":"rhodes","salt":"S9IMfke6","md5":"f11651ff3ac9462bb9368b6f0e182ddb","sha1":"bc916144a87208e46539234eff95b750ffbbad0e","sha256":"a83c8c26a27793dab9e97c482a313bd755b0e799336861a3ccd45a6bf0e1d4cf"},"dob":{"date":"1983-09-02T03:40:15.660Z","age":38},"registered":{"date":"2005-01-20T11:36:41.891Z","age":16},"phone":"(130)-567-8057","cell":"(434)-340-1183","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/73.jpg","medium":"https://randomuser.me/api/portraits/med/men/73.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/73.jpg"},"nat":"TR"}],"info":{"seed":"17b3298ce93fa1a4","results":10,"page":1,"version":"1.3"}}]`
	//testJson2 := `{
	//  "person": {
	//	"name": {
	//	  "first": "Leonid",
	//	  "last": "Bugaev",
	//	  "fullName": "Leonid Bugaev"
	//	},
	//	"github": {
	//	  "handle": "buger",
	//	  "followers": 109
	//	},
	//	"avatars": [
	//	  { "url": "https://avatars1.githubusercontent.com/u/14009?v=3&s=460", "type": "thumbnail" }
	//	]
	//  },
	//  "company": {
	//	"name": "Acme"
	//  }
	//}`

	testJson3 := []byte(`{
		  "first": "Leonid",
		  "last": "Bugaev",
		  "fullName": "Leonid Bugaev"
		}`)

	//testJson2b := common.Tokenize([]byte(testJson2))
	//output := Get("company", testJson2b)
	//for _, out := range output {
	//	fmt.Printf("%s\n", out)
	//}

	testJson3b := common.Tokenize(testJson3)
	out2 := Get("last", testJson3b)
	out3 := Get("nothing", testJson3b)
	if string(out2[0]) != "Bugaev" {
		t.Errorf("test_get failed")
	}
	if len(out3) > 0 {
		fmt.Println(string(out3[0]))
		t.Errorf("test_get failed")
	}
}

func TestFilter(t *testing.T) {
	testJson := common.Tokenize([]byte(`{"results":[{"gender":"female","name":{"title":"Mrs","first":"Melodie","last":"Gagné"},"location":{"street":{"number":4594,"name":"St. Lawrence Ave"},"city":"Killarney","state":"Ontario","country":"Canada","postcode":"L5C 7L2","coordinates":{"latitude":"-63.9167","longitude":"110.8605"},"timezone":{"offset":"+5:45","description":"Kathmandu"}},"email":"melodie.gagne@example.com","login":{"uuid":"d56c7d7a-b4d4-4250-9d28-0738ac3a1b77","username":"orangebear509","password":"bigboy","salt":"r2rkwcwY","md5":"bea5a3bffe48b1e69c817688e929cf98","sha1":"9e67c5ddd7a1cdb28866f4ef40d0be64f389a555","sha256":"3a83320997a8bf8c860c6f2b813cc7c2dbaa68a958082109d0ef973b62eedc64"},"dob":{"date":"1956-12-07T12:09:05.427Z","age":65},"registered":{"date":"2011-10-17T13:35:21.088Z","age":10},"phone":"726-074-4524","cell":"779-777-0657","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/women/62.jpg","medium":"https://randomuser.me/api/portraits/med/women/62.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/62.jpg"},"nat":"CA"},{"gender":"male","name":{"title":"Mr","first":"Hardy","last":"Sauter"},"location":{"street":{"number":3759,"name":"Raiffeisenstraße"},"city":"Schwandorf","state":"Hamburg","country":"Germany","postcode":43773,"coordinates":{"latitude":"9.3017","longitude":"-78.3350"},"timezone":{"offset":"+5:00","description":"Ekaterinburg, Islamabad, Karachi, Tashkent"}},"email":"hardy.sauter@example.com","login":{"uuid":"7bbfbcb0-a9c7-491b-b347-6bb6cc560903","username":"bluebear598","password":"freeuser","salt":"aMcmc5p1","md5":"321930e49c1e0797e27f97c5cffbb744","sha1":"f00f7f2f40a1b63c799d849dc7b1ac7a09124931","sha256":"8eaf321a3b77fe78de3124ce0d54969d14dc3e327e74801d826495baf6423b00"},"dob":{"date":"1955-09-06T14:26:49.215Z","age":66},"registered":{"date":"2014-02-27T05:56:03.362Z","age":7},"phone":"0461-2742163","cell":"0173-7395805","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/16.jpg","medium":"https://randomuser.me/api/portraits/med/men/16.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/16.jpg"},"nat":"DE"},{"gender":"male","name":{"title":"Mr","first":"Porfírio","last":"Pereira"},"location":{"street":{"number":6062,"name":"Travessa dos Açorianos"},"city":"Nossa Senhora do Socorro","state":"Pernambuco","country":"Brazil","postcode":17855,"coordinates":{"latitude":"-81.9210","longitude":"150.2790"},"timezone":{"offset":"+6:00","description":"Almaty, Dhaka, Colombo"}},"email":"porfirio.pereira@example.com","login":{"uuid":"4d52083a-2692-43b7-83a5-5c5e9d0815cb","username":"orangelion732","password":"frosty","salt":"qnsQL5c0","md5":"a96f887a42ee546badb3f43681c998e9","sha1":"fc6528f28d113e7ba796f06809994ff15fe077d2","sha256":"7b886f2472a6e4d54b5b5037bf3fe83780465eeb2b305d614f295daf91724cb5"},"dob":{"date":"1980-09-06T08:26:56.458Z","age":41},"registered":{"date":"2004-09-02T17:44:40.628Z","age":17},"phone":"(93) 1456-9695","cell":"(31) 0998-5800","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/87.jpg","medium":"https://randomuser.me/api/portraits/med/men/87.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/87.jpg"},"nat":"BR"},{"gender":"male","name":{"title":"Mr","first":"Loïs","last":"Blanc"},"location":{"street":{"number":9030,"name":"Rue de L'Abbé-De-L'Épée"},"city":"Asnières-sur-Seine","state":"Finistère","country":"France","postcode":89952,"coordinates":{"latitude":"50.9744","longitude":"38.2468"},"timezone":{"offset":"+9:00","description":"Tokyo, Seoul, Osaka, Sapporo, Yakutsk"}},"email":"lois.blanc@example.com","login":{"uuid":"f991434b-9e0f-4588-ba2e-f6179af9e842","username":"brownkoala788","password":"tigger","salt":"fxGzgqe3","md5":"8ba64f770c8b99c9eba1528d76c5888a","sha1":"90334001cdd9f5f021e3832969885416328da39c","sha256":"10e916d5521a6db13318c5f7113a6a89160fcd08c687e2eec2219785c3bcb704"},"dob":{"date":"1969-01-13T18:35:55.654Z","age":52},"registered":{"date":"2017-02-07T16:01:02.108Z","age":4},"phone":"04-76-20-47-49","cell":"06-13-55-64-94","id":{"name":"INSEE","value":"1NNaN46527313 64"},"picture":{"large":"https://randomuser.me/api/portraits/men/90.jpg","medium":"https://randomuser.me/api/portraits/med/men/90.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/90.jpg"},"nat":"FR"},{"gender":"female","name":{"title":"Mrs","first":"Scarlett","last":"Ramos"},"location":{"street":{"number":6288,"name":"E Pecan St"},"city":"Queanbeyan","state":"Queensland","country":"Australia","postcode":8613,"coordinates":{"latitude":"-84.4282","longitude":"162.1111"},"timezone":{"offset":"-6:00","description":"Central Time (US & Canada), Mexico City"}},"email":"scarlett.ramos@example.com","login":{"uuid":"ed8d0175-81ee-4814-a168-6141ee47c7de","username":"brownsnake968","password":"mission","salt":"aMOaO9fR","md5":"2e9ba6b0c914923c170bd405761f31ad","sha1":"29068dea51109fec794defcfa81481ba004a8e17","sha256":"9018f4f9d3b37a6a4211174936d36213368ebba68cb1be7aae04decf8991e822"},"dob":{"date":"1987-05-02T15:04:52.481Z","age":34},"registered":{"date":"2003-07-23T08:27:48.875Z","age":18},"phone":"02-3890-8160","cell":"0491-054-120","id":{"name":"TFN","value":"045760989"},"picture":{"large":"https://randomuser.me/api/portraits/women/63.jpg","medium":"https://randomuser.me/api/portraits/med/women/63.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/63.jpg"},"nat":"AU"},{"gender":"male","name":{"title":"Mr","first":"Glen","last":"Howard"},"location":{"street":{"number":1180,"name":"George Street"},"city":"Swords","state":"Wexford","country":"Ireland","postcode":99620,"coordinates":{"latitude":"29.7085","longitude":"75.1163"},"timezone":{"offset":"+5:30","description":"Bombay, Calcutta, Madras, New Delhi"}},"email":"glen.howard@example.com","login":{"uuid":"a316c6e2-588b-46f7-bb84-b5259809db63","username":"greenbird880","password":"tttttt","salt":"gXFbTT9E","md5":"740e62a443776e531c32e8a27936cd32","sha1":"8cae36827b4626ee5d4bb33ec9a950b442c77be0","sha256":"299b67ef37fb0dfaee5069bf42cc4760cf4683b3f747ca5df974c2e22ef5940a"},"dob":{"date":"1990-02-13T12:02:30.019Z","age":31},"registered":{"date":"2009-06-27T06:37:56.602Z","age":12},"phone":"061-787-3251","cell":"081-991-2405","id":{"name":"PPS","value":"5290365T"},"picture":{"large":"https://randomuser.me/api/portraits/men/49.jpg","medium":"https://randomuser.me/api/portraits/med/men/49.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/49.jpg"},"nat":"IE"},{"gender":"female","name":{"title":"Mrs","first":"Johanne","last":"Leonhardt"},"location":{"street":{"number":3194,"name":"Königsberger Straße"},"city":"Bad Dürrheim","state":"Bremen","country":"Germany","postcode":77926,"coordinates":{"latitude":"23.1901","longitude":"-101.7833"},"timezone":{"offset":"-5:00","description":"Eastern Time (US & Canada), Bogota, Lima"}},"email":"johanne.leonhardt@example.com","login":{"uuid":"b6709a0a-f1b9-43df-81a3-5df0c291e209","username":"crazytiger533","password":"portland","salt":"02lLcotQ","md5":"7a7ecfc38af3758df76249fa3dd2644d","sha1":"9ead20210f0148e30a7698e85202a6f6e9b937ca","sha256":"4817a46f630a5c53803e8deb28e58e9c6b3db8961640ae533982072b16f61c87"},"dob":{"date":"1964-08-09T08:11:15.101Z","age":57},"registered":{"date":"2004-01-17T03:23:18.800Z","age":17},"phone":"0678-4241451","cell":"0179-6896607","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/women/46.jpg","medium":"https://randomuser.me/api/portraits/med/women/46.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/46.jpg"},"nat":"DE"},{"gender":"male","name":{"title":"Mr","first":"Byron","last":"Cooper"},"location":{"street":{"number":7641,"name":"Lakeshore Rd"},"city":"St. Petersburg","state":"Colorado","country":"United States","postcode":85898,"coordinates":{"latitude":"-13.9778","longitude":"-137.0939"},"timezone":{"offset":"+8:00","description":"Beijing, Perth, Singapore, Hong Kong"}},"email":"byron.cooper@example.com","login":{"uuid":"40069ca0-fefd-4976-ab13-dff1c80bbf7e","username":"bigbird675","password":"nelson","salt":"h0ExMxtO","md5":"24dd7367f95c4377b2fef8e65cbd0c1b","sha1":"8c416504804eddc891da083eb3461733738fdc02","sha256":"96ce2b753601e405c00301242398c24551260208ac4799d78aacc2f8b87a7595"},"dob":{"date":"1992-02-22T10:15:55.954Z","age":29},"registered":{"date":"2007-03-13T17:08:10.687Z","age":14},"phone":"(230)-039-4521","cell":"(532)-586-9671","id":{"name":"SSN","value":"120-86-5372"},"picture":{"large":"https://randomuser.me/api/portraits/men/74.jpg","medium":"https://randomuser.me/api/portraits/med/men/74.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/74.jpg"},"nat":"US"},{"gender":"female","name":{"title":"Miss","first":"Yesim","last":"Nijenkamp"},"location":{"street":{"number":5373,"name":"1e Zandwijkje"},"city":"Zoutkamp","state":"Limburg","country":"Netherlands","postcode":80936,"coordinates":{"latitude":"-19.9554","longitude":"-162.6304"},"timezone":{"offset":"+3:30","description":"Tehran"}},"email":"yesim.nijenkamp@example.com","login":{"uuid":"dd67bceb-5392-4ee2-8708-94e04a84b887","username":"bigmouse583","password":"chaos1","salt":"wuRC9yFI","md5":"19a98b6b89a6aa21b94cf758f9cff7dc","sha1":"f7824391d9c48dd96bc8c3b1e2d30520c4999506","sha256":"36e88cd516175132231b1cd867bfecbd1a1b25b1cef1b2e85f38b0ce0a9ba4e0"},"dob":{"date":"1980-11-07T08:04:26.249Z","age":41},"registered":{"date":"2016-11-13T19:57:41.510Z","age":5},"phone":"(025)-795-8551","cell":"(144)-699-7915","id":{"name":"BSN","value":"88093887"},"picture":{"large":"https://randomuser.me/api/portraits/women/53.jpg","medium":"https://randomuser.me/api/portraits/med/women/53.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/53.jpg"},"nat":"NL"},{"gender":"male","name":{"title":"Mr","first":"Koray","last":"Adal"},"location":{"street":{"number":8407,"name":"Talak Göktepe Cd"},"city":"Tokat","state":"Bolu","country":"Turkey","postcode":34303,"coordinates":{"latitude":"-45.7986","longitude":"-65.0078"},"timezone":{"offset":"-4:00","description":"Atlantic Time (Canada), Caracas, La Paz"}},"email":"koray.adal@example.com","login":{"uuid":"804cfd39-034a-4b4e-b517-acd6373682ea","username":"heavyladybug985","password":"rhodes","salt":"S9IMfke6","md5":"f11651ff3ac9462bb9368b6f0e182ddb","sha1":"bc916144a87208e46539234eff95b750ffbbad0e","sha256":"a83c8c26a27793dab9e97c482a313bd755b0e799336861a3ccd45a6bf0e1d4cf"},"dob":{"date":"1983-09-02T03:40:15.660Z","age":38},"registered":{"date":"2005-01-20T11:36:41.891Z","age":16},"phone":"(130)-567-8057","cell":"(434)-340-1183","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/73.jpg","medium":"https://randomuser.me/api/portraits/med/men/73.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/73.jpg"},"nat":"TR"}],"info":{"seed":"17b3298ce93fa1a4","results":10,"page":1,"version":"1.3"}}`))
	testData := []struct {
		name     string
		input    string
		expected []string
	}{
		{"base", `results[gender=female]`, []string{`{"gender":"female","name":{"title":"Mrs","first":"Melodie","last":"Gagné"},"location":{"street":{"number":4594,"name":"St. Lawrence Ave"},"city":"Killarney","state":"Ontario","country":"Canada","postcode":"L5C 7L2","coordinates":{"latitude":"-63.9167","longitude":"110.8605"},"timezone":{"offset":"+5:45","description":"Kathmandu"}},"email":"melodie.gagne@example.com","login":{"uuid":"d56c7d7a-b4d4-4250-9d28-0738ac3a1b77","username":"orangebear509","password":"bigboy","salt":"r2rkwcwY","md5":"bea5a3bffe48b1e69c817688e929cf98","sha1":"9e67c5ddd7a1cdb28866f4ef40d0be64f389a555","sha256":"3a83320997a8bf8c860c6f2b813cc7c2dbaa68a958082109d0ef973b62eedc64"},"dob":{"date":"1956-12-07T12:09:05.427Z","age":65},"registered":{"date":"2011-10-17T13:35:21.088Z","age":10},"phone":"726-074-4524","cell":"779-777-0657","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/women/62.jpg","medium":"https://randomuser.me/api/portraits/med/women/62.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/62.jpg"},"nat":"CA"}`, `{"gender":"female","name":{"title":"Mrs","first":"Scarlett","last":"Ramos"},"location":{"street":{"number":6288,"name":"E Pecan St"},"city":"Queanbeyan","state":"Queensland","country":"Australia","postcode":8613,"coordinates":{"latitude":"-84.4282","longitude":"162.1111"},"timezone":{"offset":"-6:00","description":"Central Time (US & Canada), Mexico City"}},"email":"scarlett.ramos@example.com","login":{"uuid":"ed8d0175-81ee-4814-a168-6141ee47c7de","username":"brownsnake968","password":"mission","salt":"aMOaO9fR","md5":"2e9ba6b0c914923c170bd405761f31ad","sha1":"29068dea51109fec794defcfa81481ba004a8e17","sha256":"9018f4f9d3b37a6a4211174936d36213368ebba68cb1be7aae04decf8991e822"},"dob":{"date":"1987-05-02T15:04:52.481Z","age":34},"registered":{"date":"2003-07-23T08:27:48.875Z","age":18},"phone":"02-3890-8160","cell":"0491-054-120","id":{"name":"TFN","value":"045760989"},"picture":{"large":"https://randomuser.me/api/portraits/women/63.jpg","medium":"https://randomuser.me/api/portraits/med/women/63.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/63.jpg"},"nat":"AU"}`, `{"gender":"female","name":{"title":"Mrs","first":"Johanne","last":"Leonhardt"},"location":{"street":{"number":3194,"name":"Königsberger Straße"},"city":"Bad Dürrheim","state":"Bremen","country":"Germany","postcode":77926,"coordinates":{"latitude":"23.1901","longitude":"-101.7833"},"timezone":{"offset":"-5:00","description":"Eastern Time (US & Canada), Bogota, Lima"}},"email":"johanne.leonhardt@example.com","login":{"uuid":"b6709a0a-f1b9-43df-81a3-5df0c291e209","username":"crazytiger533","password":"portland","salt":"02lLcotQ","md5":"7a7ecfc38af3758df76249fa3dd2644d","sha1":"9ead20210f0148e30a7698e85202a6f6e9b937ca","sha256":"4817a46f630a5c53803e8deb28e58e9c6b3db8961640ae533982072b16f61c87"},"dob":{"date":"1964-08-09T08:11:15.101Z","age":57},"registered":{"date":"2004-01-17T03:23:18.800Z","age":17},"phone":"0678-4241451","cell":"0179-6896607","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/women/46.jpg","medium":"https://randomuser.me/api/portraits/med/women/46.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/46.jpg"},"nat":"DE"}`, `{"gender":"female","name":{"title":"Miss","first":"Yesim","last":"Nijenkamp"},"location":{"street":{"number":5373,"name":"1e Zandwijkje"},"city":"Zoutkamp","state":"Limburg","country":"Netherlands","postcode":80936,"coordinates":{"latitude":"-19.9554","longitude":"-162.6304"},"timezone":{"offset":"+3:30","description":"Tehran"}},"email":"yesim.nijenkamp@example.com","login":{"uuid":"dd67bceb-5392-4ee2-8708-94e04a84b887","username":"bigmouse583","password":"chaos1","salt":"wuRC9yFI","md5":"19a98b6b89a6aa21b94cf758f9cff7dc","sha1":"f7824391d9c48dd96bc8c3b1e2d30520c4999506","sha256":"36e88cd516175132231b1cd867bfecbd1a1b25b1cef1b2e85f38b0ce0a9ba4e0"},"dob":{"date":"1980-11-07T08:04:26.249Z","age":41},"registered":{"date":"2016-11-13T19:57:41.510Z","age":5},"phone":"(025)-795-8551","cell":"(144)-699-7915","id":{"name":"BSN","value":"88093887"},"picture":{"large":"https://randomuser.me/api/portraits/women/53.jpg","medium":"https://randomuser.me/api/portraits/med/women/53.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/53.jpg"},"nat":"NL"}`}},
		{"nested", `results[name.title=Mr]`, []string{`{"gender":"male","name":{"title":"Mr","first":"Hardy","last":"Sauter"},"location":{"street":{"number":3759,"name":"Raiffeisenstraße"},"city":"Schwandorf","state":"Hamburg","country":"Germany","postcode":43773,"coordinates":{"latitude":"9.3017","longitude":"-78.3350"},"timezone":{"offset":"+5:00","description":"Ekaterinburg, Islamabad, Karachi, Tashkent"}},"email":"hardy.sauter@example.com","login":{"uuid":"7bbfbcb0-a9c7-491b-b347-6bb6cc560903","username":"bluebear598","password":"freeuser","salt":"aMcmc5p1","md5":"321930e49c1e0797e27f97c5cffbb744","sha1":"f00f7f2f40a1b63c799d849dc7b1ac7a09124931","sha256":"8eaf321a3b77fe78de3124ce0d54969d14dc3e327e74801d826495baf6423b00"},"dob":{"date":"1955-09-06T14:26:49.215Z","age":66},"registered":{"date":"2014-02-27T05:56:03.362Z","age":7},"phone":"0461-2742163","cell":"0173-7395805","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/16.jpg","medium":"https://randomuser.me/api/portraits/med/men/16.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/16.jpg"},"nat":"DE"}`, `{"gender":"male","name":{"title":"Mr","first":"Porfírio","last":"Pereira"},"location":{"street":{"number":6062,"name":"Travessa dos Açorianos"},"city":"Nossa Senhora do Socorro","state":"Pernambuco","country":"Brazil","postcode":17855,"coordinates":{"latitude":"-81.9210","longitude":"150.2790"},"timezone":{"offset":"+6:00","description":"Almaty, Dhaka, Colombo"}},"email":"porfirio.pereira@example.com","login":{"uuid":"4d52083a-2692-43b7-83a5-5c5e9d0815cb","username":"orangelion732","password":"frosty","salt":"qnsQL5c0","md5":"a96f887a42ee546badb3f43681c998e9","sha1":"fc6528f28d113e7ba796f06809994ff15fe077d2","sha256":"7b886f2472a6e4d54b5b5037bf3fe83780465eeb2b305d614f295daf91724cb5"},"dob":{"date":"1980-09-06T08:26:56.458Z","age":41},"registered":{"date":"2004-09-02T17:44:40.628Z","age":17},"phone":"(93) 1456-9695","cell":"(31) 0998-5800","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/87.jpg","medium":"https://randomuser.me/api/portraits/med/men/87.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/87.jpg"},"nat":"BR"}`, `{"gender":"male","name":{"title":"Mr","first":"Loïs","last":"Blanc"},"location":{"street":{"number":9030,"name":"Rue de L'Abbé-De-L'Épée"},"city":"Asnières-sur-Seine","state":"Finistère","country":"France","postcode":89952,"coordinates":{"latitude":"50.9744","longitude":"38.2468"},"timezone":{"offset":"+9:00","description":"Tokyo, Seoul, Osaka, Sapporo, Yakutsk"}},"email":"lois.blanc@example.com","login":{"uuid":"f991434b-9e0f-4588-ba2e-f6179af9e842","username":"brownkoala788","password":"tigger","salt":"fxGzgqe3","md5":"8ba64f770c8b99c9eba1528d76c5888a","sha1":"90334001cdd9f5f021e3832969885416328da39c","sha256":"10e916d5521a6db13318c5f7113a6a89160fcd08c687e2eec2219785c3bcb704"},"dob":{"date":"1969-01-13T18:35:55.654Z","age":52},"registered":{"date":"2017-02-07T16:01:02.108Z","age":4},"phone":"04-76-20-47-49","cell":"06-13-55-64-94","id":{"name":"INSEE","value":"1NNaN46527313 64"},"picture":{"large":"https://randomuser.me/api/portraits/men/90.jpg","medium":"https://randomuser.me/api/portraits/med/men/90.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/90.jpg"},"nat":"FR"}`, `{"gender":"male","name":{"title":"Mr","first":"Glen","last":"Howard"},"location":{"street":{"number":1180,"name":"George Street"},"city":"Swords","state":"Wexford","country":"Ireland","postcode":99620,"coordinates":{"latitude":"29.7085","longitude":"75.1163"},"timezone":{"offset":"+5:30","description":"Bombay, Calcutta, Madras, New Delhi"}},"email":"glen.howard@example.com","login":{"uuid":"a316c6e2-588b-46f7-bb84-b5259809db63","username":"greenbird880","password":"tttttt","salt":"gXFbTT9E","md5":"740e62a443776e531c32e8a27936cd32","sha1":"8cae36827b4626ee5d4bb33ec9a950b442c77be0","sha256":"299b67ef37fb0dfaee5069bf42cc4760cf4683b3f747ca5df974c2e22ef5940a"},"dob":{"date":"1990-02-13T12:02:30.019Z","age":31},"registered":{"date":"2009-06-27T06:37:56.602Z","age":12},"phone":"061-787-3251","cell":"081-991-2405","id":{"name":"PPS","value":"5290365T"},"picture":{"large":"https://randomuser.me/api/portraits/men/49.jpg","medium":"https://randomuser.me/api/portraits/med/men/49.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/49.jpg"},"nat":"IE"}`, `{"gender":"male","name":{"title":"Mr","first":"Byron","last":"Cooper"},"location":{"street":{"number":7641,"name":"Lakeshore Rd"},"city":"St. Petersburg","state":"Colorado","country":"United States","postcode":85898,"coordinates":{"latitude":"-13.9778","longitude":"-137.0939"},"timezone":{"offset":"+8:00","description":"Beijing, Perth, Singapore, Hong Kong"}},"email":"byron.cooper@example.com","login":{"uuid":"40069ca0-fefd-4976-ab13-dff1c80bbf7e","username":"bigbird675","password":"nelson","salt":"h0ExMxtO","md5":"24dd7367f95c4377b2fef8e65cbd0c1b","sha1":"8c416504804eddc891da083eb3461733738fdc02","sha256":"96ce2b753601e405c00301242398c24551260208ac4799d78aacc2f8b87a7595"},"dob":{"date":"1992-02-22T10:15:55.954Z","age":29},"registered":{"date":"2007-03-13T17:08:10.687Z","age":14},"phone":"(230)-039-4521","cell":"(532)-586-9671","id":{"name":"SSN","value":"120-86-5372"},"picture":{"large":"https://randomuser.me/api/portraits/men/74.jpg","medium":"https://randomuser.me/api/portraits/med/men/74.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/74.jpg"},"nat":"US"}`, `{"gender":"male","name":{"title":"Mr","first":"Koray","last":"Adal"},"location":{"street":{"number":8407,"name":"Talak Göktepe Cd"},"city":"Tokat","state":"Bolu","country":"Turkey","postcode":34303,"coordinates":{"latitude":"-45.7986","longitude":"-65.0078"},"timezone":{"offset":"-4:00","description":"Atlantic Time (Canada), Caracas, La Paz"}},"email":"koray.adal@example.com","login":{"uuid":"804cfd39-034a-4b4e-b517-acd6373682ea","username":"heavyladybug985","password":"rhodes","salt":"S9IMfke6","md5":"f11651ff3ac9462bb9368b6f0e182ddb","sha1":"bc916144a87208e46539234eff95b750ffbbad0e","sha256":"a83c8c26a27793dab9e97c482a313bd755b0e799336861a3ccd45a6bf0e1d4cf"},"dob":{"date":"1983-09-02T03:40:15.660Z","age":38},"registered":{"date":"2005-01-20T11:36:41.891Z","age":16},"phone":"(130)-567-8057","cell":"(434)-340-1183","id":{"name":"","value":null},"picture":{"large":"https://randomuser.me/api/portraits/men/73.jpg","medium":"https://randomuser.me/api/portraits/med/men/73.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/men/73.jpg"},"nat":"TR"}`}},
		//{"nonequal", `results[name.title!=Mr]`, []string{`{"cell":"(704)-360-1063","dob":{"age":37,"date":"1984-08-12T18:56:53.841Z"},"email":"funda.vanderstraten@example.com","gender":"female","id":{"name":"BSN","value":"30204146"},"location":{"city":"Foxhol","coordinates":{"latitude":"45.0634","longitude":"106.0678"},"country":"Netherlands","postcode":51804,"state":"Flevoland","street":{"name":"Klokkenbergweg","number":1903},"timezone":{"description":"Beijing, Perth, Singapore, Hong Kong","offset":"+8:00"}},"login":{"md5":"281a545e2515314a67826048f0f6a355","password":"pamela","salt":"cKrA3NPi","sha1":"ced05334372344cb3024f979c14f6830e89ce7cd","sha256":"cb46b2317effc78fb422a24413a0a06b35f78125e24e031bd3be67aa918aba1f","username":"ticklishbird943","uuid":"4c0d3e42-7094-46da-a2ad-1eb6aed9cd2f"},"name":{"first":"Funda","last":"Van der Straten","title":"Miss"},"nat":"NL","phone":"(886)-781-9842","picture":{"large":"https://randomuser.me/api/portraits/women/61.jpg","medium":"https://randomuser.me/api/portraits/med/women/61.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/61.jpg"},"registered":{"age":12,"date":"2009-04-21T00:16:13.323Z"}}`,`{"cell":"(929)-483-0996","dob":{"age":41,"date":"1980-10-23T09:20:09.685Z"},"email":"yasemin.tunaboylu@example.com","gender":"female","id":{"name":"","value":null},"location":{"city":"Ordu","coordinates":{"latitude":"57.2981","longitude":"-19.9624"},"country":"Turkey","postcode":52014,"state":"Zonguldak","street":{"name":"Maçka Cd","number":2109},"timezone":{"description":"Azores, Cape Verde Islands","offset":"-1:00"}},"login":{"md5":"c40f51eacb5fe626c4d2892c0159d633","password":"dogface","salt":"ntwywIuZ","sha1":"38d2dc424e8fea8aeec54d2363f7c69adc8856e2","sha256":"3268b7788fea7b7c9f7cf785ba1b141078db06ffed9a0ca2318c9d82c21221ec","username":"brownpeacock537","uuid":"3b065902-0a55-4041-b169-ebfc463bad73"},"name":{"first":"Yasemin","last":"Tunaboylu","title":"Miss"},"nat":"TR","phone":"(802)-263-6391","picture":{"large":"https://randomuser.me/api/portraits/women/8.jpg","medium":"https://randomuser.me/api/portraits/med/women/8.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/8.jpg"},"registered":{"age":10,"date":"2011-03-21T09:17:40.013Z"}}`,`{"cell":"0936-195-2586","dob":{"age":70,"date":"1951-02-13T11:07:44.054Z"},"email":"mhdys.mhmdkhn@example.com","gender":"female","id":{"name":"","value":null},"location":{"city":"شیراز","coordinates":{"latitude":"-32.8766","longitude":"-52.2345"},"country":"Iran","postcode":49965,"state":"آذربایجان شرقی","street":{"name":"شهید علی باستانی","number":7717},"timezone":{"description":"Eniwetok, Kwajalein","offset":"-12:00"}},"login":{"md5":"4238fbdfe081290ecb55b79d986285f9","password":"454545","salt":"70dzN15E","sha1":"4f2ae21849cb302075f471f9aecac44bfb5bd9af","sha256":"3aa97f858e464a24b7d2cc07caba9994d06452aa6cfdcccf50cf5dee82e8b983","username":"lazyswan646","uuid":"6585d44b-7a81-4d03-8a5a-5e1f4f7d50ff"},"name":{"first":"مهدیس","last":"محمدخان","title":"Ms"},"nat":"IR","phone":"091-29406686","picture":{"large":"https://randomuser.me/api/portraits/women/77.jpg","medium":"https://randomuser.me/api/portraits/med/women/77.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/77.jpg"},"registered":{"age":2,"date":"2019-07-04T08:41:56.826Z"}}`,`{"cell":"43021889","dob":{"age":65,"date":"1956-08-07T23:33:53.046Z"},"email":"tomine.andvik@example.com","gender":"female","id":{"name":"FN","value":"07085634636"},"location":{"city":"Gata","coordinates":{"latitude":"33.7499","longitude":"70.2871"},"country":"Norway","postcode":"5948","state":"Telemark","street":{"name":"Dannevigsveien","number":7370},"timezone":{"description":"Tokyo, Seoul, Osaka, Sapporo, Yakutsk","offset":"+9:00"}},"login":{"md5":"8b310173f8acf0b503d3ed6f61fe45dc","password":"pearls","salt":"WZJgC1jx","sha1":"9dc7ce93c8fd0dc4fa23bac77efe2c57734d50d7","sha256":"6633d7071bc0e5f8ca7272c5f722313b8500fde827f8a17bbb41a3b23d327b8d","username":"organicostrich925","uuid":"fb9f0c79-07ff-406a-9e70-8d91fce23e70"},"name":{"first":"Tomine","last":"Andvik","title":"Mrs"},"nat":"NO","phone":"37053039","picture":{"large":"https://randomuser.me/api/portraits/women/53.jpg","medium":"https://randomuser.me/api/portraits/med/women/53.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/53.jpg"},"registered":{"age":18,"date":"2003-01-03T05:02:54.422Z"}}`,`{"cell":"(897)-115-5540","dob":{"age":47,"date":"1974-01-11T17:00:25.747Z"},"email":"imogen.green@example.com","gender":"female","id":{"name":"","value":null},"location":{"city":"Christchurch","coordinates":{"latitude":"13.9819","longitude":"64.4350"},"country":"New Zealand","postcode":53287,"state":"Waikato","street":{"name":"Mt Wellington Highway","number":7708},"timezone":{"description":"Central Time (US & Canada), Mexico City","offset":"-6:00"}},"login":{"md5":"2b749f493422636ec80590530ac8d8fb","password":"hellas","salt":"UIvqTkYg","sha1":"7465608e42757c08ebdaa562a5ac85c78bc63e56","sha256":"e4530f2c5bc8ce410796788027fb9a134803694f895a53dec79ff8a5ede19d56","username":"blackelephant813","uuid":"e3083c08-606e-4651-81dd-f4a214079df7"},"name":{"first":"Imogen","last":"Green","title":"Miss"},"nat":"NZ","phone":"(187)-900-6250","picture":{"large":"https://randomuser.me/api/portraits/women/4.jpg","medium":"https://randomuser.me/api/portraits/med/women/4.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/4.jpg"},"registered":{"age":11,"date":"2010-05-22T06:02:00.225Z"}}`,`{"cell":"(504)-160-6080","dob":{"age":64,"date":"1957-04-18T13:18:04.164Z"},"email":"ise.sandifort@example.com","gender":"female","id":{"name":"BSN","value":"57621894"},"location":{"city":"Bemmel","coordinates":{"latitude":"-31.4155","longitude":"-138.7051"},"country":"Netherlands","postcode":25185,"state":"Groningen","street":{"name":"Jan Steenstraat","number":1433},"timezone":{"description":"Atlantic Time (Canada), Caracas, La Paz","offset":"-4:00"}},"login":{"md5":"d06a9110d280fb250ba72f13b5cb772d","password":"tank","salt":"eX5CJ1bt","sha1":"a517590155562444aad62552e834b6e039832bd3","sha256":"54b8733f93443e5bfe4ab5be96193547343ddff5f488063548ff5ea94721b9fc","username":"ticklishleopard857","uuid":"471b34fc-c591-431c-971c-90bc51a8587d"},"name":{"first":"Ise","last":"Sandifort","title":"Mrs"},"nat":"NL","phone":"(542)-000-4517","picture":{"large":"https://randomuser.me/api/portraits/women/25.jpg","medium":"https://randomuser.me/api/portraits/med/women/25.jpg","thumbnail":"https://randomuser.me/api/portraits/thumb/women/25.jpg"},"registered":{"age":16,"date":"2005-06-02T13:19:12.502Z"}}`}},
	}
	for _, testcase := range testData {
		output := Filter(testcase.input, testJson)
		var expB [][]byte
		for _, exp := range testcase.expected {
			expB = append(expB, []byte(exp))
		}
		if !reflect.DeepEqual(output, expB) {
			t.Errorf("%s --> failed \n===\nexpected: %s\n===\nactual: %s\n", testcase.name, expB, output)
		}
	}
}
